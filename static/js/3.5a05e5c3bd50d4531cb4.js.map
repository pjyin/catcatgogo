{"version":3,"sources":["webpack:///src/views/goodsList.vue","webpack:///./src/views/goodsList.vue?b50f","webpack:///./src/views/goodsList.vue"],"names":["goodsList","data","goodsMenu","name","foodsScroll","scrollY","tops","methods","menuItemClick","index","this","console","log","scrollTo","initScroll","_this","better_scroll_esm","$refs","goodsmenu","click","probeType","on","pos","Math","abs","y","initTops","rightItems","rItem","top","push","i","length","clientHeight","mounted","_this2","$nextTick","computed","currentIndex","curIndex","findIndex","views_goodsList","render","_vm","_h","$createElement","_c","_self","staticClass","_v","ref","_l","item","key","class","active","$event","_s","staticStyle","width","blocks","refInFor","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/3.5a05e5c3bd50d4531cb4.js","sourcesContent":["<style type=\"text/css\" scoped>\n.com-box {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100vh;\n  min-height: 100vh;\n  background: #fff;\n  font-size: 0.16rem;\n\n}\n\n.head {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 1rem;\n  background-color: rgb(248, 248, 248);\n  border-bottom: 1px solid black;\n\n}\n\n.content {\n\n  display: flex;\n  flex-direction: row;\n  height: calc(100% - 2rem);\n  background-color: rgb(248, 248, 248);\n  overflow: hidden;\n}\n\n.goodsmenu {\n  display: flex;\n  flex-direction: column;\n  width: 1.2rem;\n\n}\n\n.goodsmenu-item {\n  width: 100%;\n  line-height: 0.8rem;\n  border-right: 1px solid black;\n  border-bottom: 1px solid black;\n}\n\n.goodsList {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  align-items: center;\n\n}\n\n.goodsList-block {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  width: 100%;\n}\n\n.blockname {\n  height: 0.4rem;\n  line-height: 0.4rem;\n  width: 100%;\n  background-color: rgb(223, 223, 225);\n}\n\n.blockitem {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 0.3rem;\n\n}\n\n.bottom {\n  height: 1rem;\n  width: 100%;\n}\n\n.active {\n  background-color: white;\n}\n\n</style>\n<template>\n  <div class=\"com-box\">\n    <div class=\"head\">this is head</div>\n    <div class=\"content\">\n      <div class=\"goodsmenu\" ref=\"goodsmenu\">\n        <div>\n          <div class=\"goodsmenu-item\" v-for=\"(item ,index) in goodsMenu\" :key=\"index\" :class=\"{active: currentIndex === index}\" @click=\"menuItemClick(index)\">{{item}}</div>\n        </div>\n      </div>\n      <div class=\"goodsList\" ref=\"goodsList\">\n        <div style=\"width: 100%;\">\n          <div ref=\"rItem\" class=\"goodsList-block\" v-for=\"(blocks ,index) in goodsList\" :key=\"index\">\n            <div class=\"blockname\">{{blocks.name}}</div>\n            <div class=\"blockitem\" v-for=\"(item ,index) in blocks.data\" :key=\"index\">\n              {{item}}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"bottom\">bottom</div>\n  </div>\n</template>\n<script>\nimport BScroll from 'better-scroll'\nexport default {\n  data() {\n    return {\n      goodsMenu: [\"菜单1\",\n        \"菜单2\",\n        \"菜单3\",\n        \"菜单4\",\n        \"菜单5\",\n        \"菜单6\",\n        \"菜单7\",\n        \"菜单8\"\n      ],\n      goodsList: [{\n          name: \"菜单1\",\n          data: [\"1.1\", \"1.2\", \"1.3\", \"1.4\", \"1.5\"]\n        },\n        {\n          name: \"菜单2\",\n          data: [\"1.1\", \"1.2\", \"1.3\", \"1.4\", \"1.5\", \"1.6\"]\n        },\n        {\n          name: \"菜单3\",\n          data: [\"1.1\", \"1.2\", \"1.3\", \"1.4\", \"1.5\"]\n        },\n        {\n          name: \"菜单4\",\n          data: [\"1.1\", \"1.2\", \"1.3\", \"1.4\", \"1.5\"]\n        },\n        {\n          name: \"菜单5\",\n          data: [\"1.1\", \"1.2\", \"1.3\", \"1.4\", \"1.5\", \"1.6\", \"1.7\", \"1.8\"]\n        },\n        {\n          name: \"菜单6\",\n          data: [\"1.1\", \"1.2\", \"1.3\", \"1.4\", \"1.5\"]\n        },\n        {\n          name: \"菜单7\",\n          data: [\"1.1\", \"1.2\", \"1.3\", \"1.4\", \"1.1\", \"1.2\"]\n        },\n        {\n          name: \"菜单8\",\n          data: [\"1.1\", \"1.2\", \"1.1\", \"1.2\", \"1.1\", \"1.2\"]\n        }\n      ],\n      foodsScroll: null,\n      scrollY: 0,\n      tops: []\n    }\n  },\n  methods: {\n    menuItemClick: function(index) {\n\n      const scrollY = this.tops[index]\n      this.scrollY = scrollY\n      console.log('this.scrollY1' + this.scrollY)\n      // 平滑滚动右侧列表\n      this.foodsScroll.scrollTo(0, -scrollY, 300)\n\n    },\n    initScroll() {\n\n      new BScroll(this.$refs.goodsmenu, {\n        click: true\n      })\n      this.foodsScroll = new BScroll(this.$refs.goodsList, {\n        probeType: 3, //探针的效果，实时获取滚动高度\n        click: true\n      })\n      //rights这个对象监听事件，实时获取位置pos.y\n      this.foodsScroll.on('scroll', (pos) => {\n        this.scrollY = Math.abs(pos.y)\n      })\n    },\n    initTops() {\n\n      let rightItems = this.$refs.rItem\n      let top = 0\n      const tops = []\n\n      tops.push(top)\n\n      for (var i = 0; i < rightItems.length; i++) {\n        let item = rightItems[i]\n        top += item.clientHeight\n        tops.push(top)\n      }\n\n      this.tops = tops\n      console.log(this.tops)\n\n\n    }\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.initScroll()\n      this.initTops()\n    })\n  },\n  computed: {\n    currentIndex() {\n      // 得到条件数据\n      const { scrollY, tops } = this\n      // 根据条件计算得到一个结果\n      const curIndex = tops.findIndex((top, index) => {\n\n        return scrollY >= top && scrollY < tops[index + 1]\n      })\n\n      console.log('curIndex==' + curIndex)\n\n      return curIndex\n    }\n  }\n}\n\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/goodsList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"com-box\"},[_c('div',{staticClass:\"head\"},[_vm._v(\"this is head\")]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{ref:\"goodsmenu\",staticClass:\"goodsmenu\"},[_c('div',_vm._l((_vm.goodsMenu),function(item,index){return _c('div',{key:index,staticClass:\"goodsmenu-item\",class:{active: _vm.currentIndex === index},on:{\"click\":function($event){return _vm.menuItemClick(index)}}},[_vm._v(_vm._s(item))])}),0)]),_vm._v(\" \"),_c('div',{ref:\"goodsList\",staticClass:\"goodsList\"},[_c('div',{staticStyle:{\"width\":\"100%\"}},_vm._l((_vm.goodsList),function(blocks,index){return _c('div',{key:index,ref:\"rItem\",refInFor:true,staticClass:\"goodsList-block\"},[_c('div',{staticClass:\"blockname\"},[_vm._v(_vm._s(blocks.name))]),_vm._v(\" \"),_vm._l((blocks.data),function(item,index){return _c('div',{key:index,staticClass:\"blockitem\"},[_vm._v(\"\\n            \"+_vm._s(item)+\"\\n          \")])})],2)}),0)])]),_vm._v(\" \"),_c('div',{staticClass:\"bottom\"},[_vm._v(\"bottom\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-617e7f72\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/goodsList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-617e7f72\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./goodsList.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./goodsList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./goodsList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-617e7f72\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./goodsList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-617e7f72\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/goodsList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}